!function(e,t){var n=function(e,t){"use strict";if(!t.getElementsByClassName)return;var n,a=t.documentElement,i=e.Date,o=e.HTMLPictureElement,r="addEventListener",s="getAttribute",l=e[r],d=e.setTimeout,c=e.requestAnimationFrame||d,u=e.requestIdleCallback,f=/^picture$/i,m=["load","error","lazyincluded","_lazyloaded"],v={},g=Array.prototype.forEach,h=function(e,t){return v[t]||(v[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),v[t].test(e[s]("class")||"")&&v[t]},z=function(e,t){h(e,t)||e.setAttribute("class",(e[s]("class")||"").trim()+" "+t)},y=function(e,t){var n;(n=h(e,t))&&e.setAttribute("class",(e[s]("class")||"").replace(n," "))},p=function(e,t,n){var a=n?r:"removeEventListener";n&&p(e,t),m.forEach((function(n){e[a](n,t)}))},C=function(e,n,a,i,o){var r=t.createEvent("CustomEvent");return r.initCustomEvent(n,!i,!o,a||{}),e.dispatchEvent(r),r},b=function(t,a){var i;!o&&(i=e.picturefill||n.pf)?i({reevaluate:!0,elements:[t]}):a&&a.src&&(t.src=a.src)},A=function(e,t){return(getComputedStyle(e,null)||{})[t]},E=function(e,t,a){for(a=a||e.offsetWidth;a<n.minSize&&t&&!e._lazysizesWidth;)a=t.offsetWidth,t=t.parentNode;return a},N=(P=[],T=[],$=function(){var e=P;for(P=T,k=!0,O=!1;e.length;)e.shift()();k=!1},D=function(e,n){k&&!n?e.apply(this,arguments):(P.push(e),O||(O=!0,(t.hidden?d:c)($)))},D._lsFlush=$,D),w=function(e,t){return t?function(){N(e)}:function(){var t=this,n=arguments;N((function(){e.apply(t,n)}))}},M=function(e){var t,n=0,a=125,o=66,r=o,s=function(){t=!1,n=i.now(),e()},l=u?function(){u(s,{timeout:r}),r!==o&&(r=o)}:w((function(){d(s)}),!0);return function(e){var o;(e=!0===e)&&(r=44),t||(t=!0,(o=a-(i.now()-n))<0&&(o=0),e||o<9&&u?l():d(l,o))}},_=function(e){var t,n,a=99,o=function(){t=null,e()},r=function(){var e=i.now()-n;e<a?d(r,a-e):(u||o)(o)};return function(){n=i.now(),t||(t=d(r,a))}},W=function(){var o,c,u,m,v,E,W,L,B,F,R,S,k,O,P,T,$=/^img$/i,D=/^iframe$/i,H="onscroll"in e&&!/glebot/.test(navigator.userAgent),I=0,q=0,j=0,G=-1,J=function(e){j--,e&&e.target&&p(e.target,J),(!e||j<0||!e.target)&&(j=0)},K=function(e,n){var i,o=e,r="hidden"==A(t.body,"visibility")||"hidden"!=A(e,"visibility");for(F-=n,k+=n,R-=n,S+=n;r&&(o=o.offsetParent)&&o!=t.body&&o!=a;)(r=(A(o,"opacity")||1)>0)&&"visible"!=A(o,"overflow")&&(i=o.getBoundingClientRect(),r=S>i.left&&R<i.right&&k>i.top-1&&F<i.bottom+1);return r},Q=function(){var e,i,r,l,d,f,m,g,h;if((v=n.loadMode)&&j<8&&(e=o.length)){i=0,G++,null==P&&("expand"in n||(n.expand=a.clientHeight>500&&a.clientWidth>500?500:370),O=n.expand,P=O*n.expFactor),q<P&&j<1&&G>2&&v>2&&!t.hidden?(q=P,G=0):q=v>1&&G>1&&j<6?O:I;for(;i<e;i++)if(o[i]&&!o[i]._lazyRace)if(H)if((g=o[i][s]("data-expand"))&&(f=1*g)||(f=q),h!==f&&(L=innerWidth+f*T,B=innerHeight+f,m=-1*f,h=f),r=o[i].getBoundingClientRect(),(k=r.bottom)>=m&&(F=r.top)<=B&&(S=r.right)>=m*T&&(R=r.left)<=L&&(k||S||R||F)&&(u&&j<3&&!g&&(v<3||G<4)||K(o[i],f))){if(ae(o[i]),d=!0,j>9)break}else!d&&u&&!l&&j<4&&G<4&&v>2&&(c[0]||n.preloadAfterLoad)&&(c[0]||!g&&(k||S||R||F||"auto"!=o[i][s](n.sizesAttr)))&&(l=c[0]||o[i]);else ae(o[i]);l&&!d&&ae(l)}Y()},U=M(Q),V=function(e){z(e,n.loadedClass),y(e,n.loadingClass),y(e,n.afterLoadedClass)},X=function(e){z(e.target,n.afterLoadedClass),Y()},Y=function(){if(W.length>0)for(var e,t,a=n.animateExpand,i=0,o=0;o<W.length;o++){var r=W[o],l=r[s]("data-animate");l&&(a=l),e=W[o].getBoundingClientRect(),t!==a&&(L=innerWidth+a*T,B=innerHeight+a,i=-1*a,t=a),(k=e.bottom)>=i&&(F=e.top)<=B&&(S=e.right)>=i*T&&(R=e.left)<=L&&(k||S||R||F)&&h(r,n.afterLoadedClass)&&V(r)}},Z=function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},ee=function(e){var t,a,i=e[s](n.srcsetAttr);(t=n.customMedia[e[s]("data-media")||e[s]("media")])&&e.setAttribute("media",t),i&&e.setAttribute("srcset",i),t&&((a=e.parentNode).insertBefore(e.cloneNode(),e),a.removeChild(e))},te=w((function(e,t,a,i,o){var r,l,c,u,v,h;(v=C(e,"lazybeforeunveil",t)).defaultPrevented||(i&&(a?z(e,n.autosizesClass):e.setAttribute("sizes",i)),l=e[s](n.srcsetAttr),r=e[s](n.srcAttr),o&&(u=(c=e.parentNode)&&f.test(c.nodeName||"")),h=t.firesLoad||"src"in e&&(l||r||u),v={target:e},h&&(p(e,J,!0),clearTimeout(m),m=d(J,2500),z(e,n.loadingClass),p(e,X,!0)),u&&g.call(c.getElementsByTagName("source"),ee),l?e.setAttribute("srcset",l):r&&!u&&(D.test(e.nodeName)?Z(e,r):e.src=r),(l||u)&&b(e,{src:r})),e._lazyRace&&delete e._lazyRace,y(e,n.lazyClass),N((function(){h&&!ne(e)||(h?J(v):j--)}),!0)}));function ne(e){return!!e.complete&&(void 0===e.naturalWidth||0!==e.naturalWidth)}var ae=function(e){var t,a=$.test(e.nodeName),i=a&&(e[s](n.sizesAttr)||e[s]("sizes")),o="auto"==i;(!o&&u||!a||!e.src&&!e.srcset||e.complete||h(e,n.errorClass))&&(t=C(e,"lazyunveilread").detail,o&&x.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,j++,te(e,t,o,i,a))},ie=function(){if(!u)if(i.now()-E<999)d(ie,999);else{var e=_((function(){n.loadMode=3,U()}));u=!0,n.loadMode=3,U(),l("scroll",(function(){3==n.loadMode&&(n.loadMode=2),e()}),!0)}};return{_:function(){E=i.now(),o=t.getElementsByClassName(n.lazyClass),W=t.getElementsByClassName(n.afterLoadedClass),c=t.getElementsByClassName(n.lazyClass+" "+n.preloadClass),T=n.hFac,l("scroll",U,!0),l("resize",U,!0),e.MutationObserver?new MutationObserver(U).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a[r]("DOMNodeInserted",U,!0),a[r]("DOMAttrModified",U,!0),setInterval(U,999)),l("hashchange",U,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach((function(e){t[r](e,U,!0)})),/d$|^c/.test(t.readyState)?ie():(l("load",ie),t[r]("DOMContentLoaded",U),d(ie,2e4)),o.length?(Q(),N._lsFlush()):U()},checkElems:U,unveil:ae}}(),x=(F=w((function(e,t,n,a){var i,o,r;if(e._lazysizesWidth=a,a+="px",e.setAttribute("sizes",a),f.test(t.nodeName||""))for(o=0,r=(i=t.getElementsByTagName("source")).length;o<r;o++)i[o].setAttribute("sizes",a);n.detail.dataAttr||b(e,n.detail)})),R=function(e,t,n){var a,i=e.parentNode;i&&(n=E(e,i,n),(a=C(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=a.detail.width)&&n!==e._lazysizesWidth&&F(e,i,a,n))},S=_((function(){var e,t=B.length;if(t)for(e=0;e<t;e++)R(B[e])})),{_:function(){B=t.getElementsByClassName(n.autosizesClass),l("resize",S)},checkElems:S,updateElem:R}),L=function(){L.i||(L.i=!0,x._(),W._())};var B,F,R,S;var k,O,P,T,$,D;return function(){var t,a={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",afterLoadedClass:"afterloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,animateExpand:0};for(t in n=e.lazySizesConfig||e.lazysizesConfig||{},a)t in n||(n[t]=a[t]);e.lazySizesConfig=n,d((function(){n.init&&L()}))}(),{cfg:n,autoSizer:x,loader:W,init:L,uP:b,aC:z,rC:y,hC:h,fire:C,gW:E,rAF:N}}(e,e.document);e.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window);